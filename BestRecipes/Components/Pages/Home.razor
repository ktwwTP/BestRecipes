@page "/"
@using Microsoft.AspNetCore.Authorization
@inject NavigationManager NavManager

<PageTitle>Home - BestRecipes</PageTitle>

@* --- Food.com Style Hero Section --- *@
<div class="home-hero">
    <div class="hero-content">
        <div class="fd-label">EST. 2024</div>
        <h1 class="hero-title">WELCOME TO BESTRECIPES</h1>
        <p class="hero-subtitle">Discover, Share, and Create Amazing Recipes with our community.</p>

        @* --- UPDATED SEARCH BAR (HTML FORM) --- *@
        @* We switched to a <form>. This works on static pages and handles the Enter key automatically. *@
        <form action="recipes" method="get" class="hero-search-container mb-4">
            <div class="input-group">
                @* IMPORTANT: name="search" must match the parameter in RecipeIndex *@
                <input type="text"
                       name="search"
                       class="form-control fd-hero-input"
                       placeholder="What are you craving today?" />
                <button type="submit" class="btn fd-btn-search">
                    <i class="bi bi-search"></i> SEARCH
                </button>
            </div>
        </form>

        <AuthorizeView>
            <Authorized>
                <div class="hero-buttons">
                    <a href="/recipes" class="btn fd-btn-yellow">BROWSE RECIPES</a>
                    <a href="/recipes/create" class="btn fd-btn-outline-white">SHARE A RECIPE</a>
                </div>
            </Authorized>
            <NotAuthorized>
                <div class="hero-buttons">
                    <a href="/Account/Register" class="btn fd-btn-yellow">JOIN THE COMMUNITY</a>
                    <a href="/Account/Login" class="btn fd-btn-outline-white">SIGN IN</a>
                </div>
            </NotAuthorized>
        </AuthorizeView>
    </div>
</div>

<div class="features-section">
    <div class="container">
        <h2 class="fd-section-title">WHY CHOOSE OUR PLATFORM?</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon"><span class="bi bi-book"></span></div>
                    <h3>RICH COLLECTION</h3>
                    <p>Access thousands of recipes from breakfast to dessert, all in one place.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon"><span class="bi bi-people"></span></div>
                    <h3>COMMUNITY DRIVEN</h3>
                    <p>Share your culinary creations and learn from fellow food enthusiasts.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon"><span class="bi bi-trophy"></span></div>
                    <h3>COOKING CHALLENGES</h3>
                    <p>Participate in exciting cooking challenges and showcase your skills.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<AuthorizeView>
    <Authorized>
        <div class="quick-links-section">
            <div class="container text-center">
                <h2 class="fd-section-title">QUICK ACCESS</h2>
                <div class="row g-3">
                    <div class="col-md-3">
                        <a href="/recipes" class="quick-link-card">
                            <span class="bi bi-card-list"></span>
                            <span>POPULAR RECIPES</span>
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="/favourites" class="quick-link-card">
                            <span class="bi bi-heart"></span>
                            <span>FAVOURITES</span>
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="/challenges" class="quick-link-card">
                            <span class="bi bi-trophy"></span>
                            <span>CHALLENGES</span>
                        </a>
                    </div>
                    <div class="col-md-3">
                        <a href="/categories" class="quick-link-card">
                            <span class="bi bi-grid"></span>
                            <span>CATEGORIES</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </Authorized>
</AuthorizeView>

<style>
    :root {
        --fd-yellow: #F5EB3B;
        --fd-black: #222222;
        --fd-grey: #757575;
    }

    /* --- Hero Search Styling --- */
    .hero-search-container {
        max-width: 600px;
        margin: 0 auto 30px auto;
    }

    .fd-hero-input {
        height: 60px;
        border: 2px solid var(--fd-black);
        border-right: none;
        border-radius: 0;
        font-size: 1.1rem;
        padding-left: 20px;
        font-weight: 600;
    }

        .fd-hero-input:focus {
            box-shadow: none;
            border-color: var(--fd-black);
        }

    .fd-btn-search {
        background-color: var(--fd-yellow);
        border: 2px solid var(--fd-black);
        border-left: none;
        border-radius: 0;
        color: var(--fd-black);
        font-weight: 900;
        padding: 0 30px;
        letter-spacing: 1px;
    }

        .fd-btn-search:hover {
            background-color: var(--fd-black);
            color: var(--fd-yellow);
        }

    /* --- Hero Section --- */
    .home-hero {
        background-color: var(--fd-black);
        color: white;
        padding: 120px 20px;
        text-align: center;
        border-radius: 0;
        position: relative;
    }

    .fd-label {
        font-weight: 900;
        letter-spacing: 3px;
        font-size: 0.8rem;
        color: var(--fd-yellow);
        margin-bottom: 15px;
    }

    .hero-title {
        font-family: 'Arial Black', Gadget, sans-serif;
        font-size: 4rem;
        font-weight: 900;
        margin-bottom: 20px;
        letter-spacing: -2px;
    }

    .hero-subtitle {
        font-size: 1.3rem;
        margin-bottom: 40px;
        color: #ddd;
    }

    /* --- Buttons --- */
    .hero-buttons {
        display: flex;
        gap: 20px;
        justify-content: center;
    }

    .fd-btn-yellow {
        background: var(--fd-yellow);
        color: var(--fd-black);
        border: none;
        padding: 15px 40px;
        border-radius: 0;
        font-weight: 900;
        letter-spacing: 1px;
        text-decoration: none;
    }

        .fd-btn-yellow:hover {
            background: white;
            color: var(--fd-black);
        }

    .fd-btn-outline-white {
        background: transparent;
        color: white;
        border: 2px solid white;
        padding: 15px 40px;
        border-radius: 0;
        font-weight: 900;
        letter-spacing: 1px;
        text-decoration: none;
    }

        .fd-btn-outline-white:hover {
            background: white;
            color: var(--fd-black);
        }

    /* --- Sections & Cards --- */
    .fd-section-title {
        font-weight: 900;
        text-align: center;
        margin-bottom: 40px;
        font-family: 'Arial Black', sans-serif;
    }

    .features-section {
        padding: 80px 20px;
        background: white;
    }

    .feature-card {
        background: white;
        padding: 40px 30px;
        border: 2px solid #eee;
        text-align: center;
        height: 100%;
        transition: border-color 0.3s;
    }

        .feature-card:hover {
            border-color: var(--fd-yellow);
        }

    .feature-icon {
        font-size: 3rem;
        color: var(--fd-black);
        margin-bottom: 20px;
    }

    .feature-card h3 {
        font-weight: 900;
        font-size: 1.2rem;
        margin-bottom: 15px;
    }

    .quick-links-section {
        padding: 80px 20px;
        background: #fdfdfd;
    }

    .quick-link-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px 20px;
        background: white;
        border: 2px solid var(--fd-black);
        text-decoration: none;
        color: var(--fd-black);
        font-weight: 900;
        transition: all 0.2s;
    }

        .quick-link-card:hover {
            background: var(--fd-yellow);
            transform: translateY(-5px);
        }

        .quick-link-card .bi {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
</style>

@code {
    // No code is needed for the search anymore.
    // The HTML <form> handles it automatically.
}